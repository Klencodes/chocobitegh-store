<div class="container">
    <app-pagetitle [breadcrumbItems]="breadCrumbItems"></app-pagetitle>

    <div class="card">
        <div class="card-body">
            <div class="row">
                <aside class="col-lg-6">
                    <article class="gallery-wrap">
                        <div class="img-big-wrap img-thumbnail">
                            <!-- Swiper Main Image -->
                            <swiper style="--swiper-navigation-color: #fff;--swiper-pagination-color: #fff; margin-bottom: 1rem;"
                                [loop]="true" [spaceBetween]="10" [navigation]="true" [thumbs]="{ swiper: thumbsSwiper }" class="mySwiper2">
                                <ng-template swiperSlide *ngFor="let item of productDetails?.extra_images">
                                    <img [src]="item?.image">
                                </ng-template>
                            </swiper>

                            <!-- Swiper thumbnails -->
                            <swiper (swiper)="thumbsSwiper = $event" [loop]="false" [spaceBetween]="10"
                                [slidesPerView]="4" [freeMode]="true" [watchSlidesProgress]="true" class="mySwiper">
                                <ng-template swiperSlide *ngFor="let item of productDetails?.extra_images">
                                    <img [src]="item?.image">
                                </ng-template>
                            </swiper>
                        </div>
                    </article>
                </aside>
                <div class="col-lg-6">
                    <article class="ps-lg-3">
                        <h4 class="title text-dark">{{productDetails?.name}}</h4>
                        <!-- <small class="text-muted cursor-pointer"><b>{{productDetails?.category?.name}}</b></small> -->
                        <div class="text-secondary mt-2">
                            <i class="fe fe-tag tags-icon"></i>
                            <span>
                                <span class="tags">{{productDetails?.tags | lowercase}}</span>
                            </span>
                        </div>
                        <div class="rating-wrap my-3">
                            <ul class="rating-stars">
                                <li style="width:80%" class="stars-active"> <img
                                        src="assets/images/misc/stars-active.svg" alt=""> </li>
                                <li> <img height="520" src="assets/images/misc/starts-disable.svg" alt=""> </li>
                            </ul> <b class="label-rating text-warning"> 4.5</b> <i class="dot"></i> <span
                                class="label-rating text-muted"> <i class="fe fe-shopping-bag"></i> {{productDetails?.sales_count}} orders </span>
                            <i class="dot"></i> <span class="label-rating text-success">Verified</span>
                        </div>
                        <div class="mb-3"> <var class="price h5">{{productDetails?.new_price}}</var> <span class="text-muted">/per {{productDetails?.unit | lowercase}}</span>
                           <del><span class="text-muted ml-3">{{productDetails?.currency}} {{productDetails?.old_price}}</span></del> 
                        </div>
                        <p [innerHTML]="productDetails?.description"></p>
                        <dl class="row">
                            <dt class="col-3">Model#</dt>
                            <dd class="col-9">Hugo Boss</dd>
                            <dt class="col-3">Color</dt>
                            <dd class="col-9">Brown</dd>
                            <dt class="col-3">Material</dt>
                            <dd class="col-9">Cotton, Jeans </dd>
                            <dt class="col-3">Delivery</dt>
                            <dd class="col-9">Russia, USA, and Europe </dd>
                        </dl>
                        <hr>
                        
                        <a class="btn btn-primary" [class.disabled]="!productDetails?.stock_availability" (click)="addToCart(productDetails?.id)">
                            <i class="me-2 fe fe-shopping-cart"></i> 
                            <span>{{ !productDetails?.stock_availability ? "Out of stock": "Add to cart" }}</span>
                         </a>
                            <a class="btn btn-secondary mx-3" [routerLink]="['/checkout']"> Checkout </a>
                        <a class="btn btn-light" (click)="saveNewItem()"> <i class="me-2 fe fe-heart"></i> Save </a>
                    </article>
                </div>
            </div>
        </div>
    </div>

    <div class="row my-5">
        <h4 class="card-title">Related Products</h4>
        <div class="col-6 col-md-4 col-lg-3 col-xl-2" *ngFor="let item of displayedList">
            <div class="card card-product-grid">
                <div class="img-wrap" (click)="viewProductDetails(item)">
                    <img *ngIf="item?.image" [src]="item?.image">
                    <img *ngIf="!item?.image" src="assets/images/misc/product-placeholder.png">
                    <span class="topbar">
                        <span class="badge bg-danger" *ngIf="!item?.stock_availability"> Out of stock </span>
                        <!-- <span class="badge bg-success"> New arrival </span>  -->
                    </span>
                </div>
                <div class="info-wrap">
                    <!-- <span class="text-warning show-xs-tag">
                        <i class="fe fe-tag"></i>
                        <span class="tags" *ngIf="item?.tags?.length <= 24"> {{item?.tags.substr(0, 24)}}</span>
                        <span class="tags" *ngIf="item?.tags?.length >= 25"> {{item?.tags.substr(0, 21)}}..</span>
                    </span> -->
                    <p class="title" (click)="viewProductDetails(item)"> {{item?.name}}</p>
                    <div class="rating-wrap">
                        <ul class="rating-stars">
                            <li class="stars-active" style="width: 70%;">
                                <img src="assets/images/misc/stars-active.svg" alt="">
                            </li>
                            <li> <img src="assets/images/misc/starts-disable.svg" alt=""> </li>
                        </ul> <span class="label-rating text-warning">3.2</span>
                    </div>
                </div>
                <div class="bottom-wrap">
                    <!-- <a href="#" class="btn btn-primary float-end">
                        <span class="d-block d-sm-none">
                            <i class="fe fe-shopping-cart"></i></span>
                        <span class="d-none d-sm-inline-block">Add to cart</span>
                    </a> -->
                    <div class="price-wrap lh-sm">
                        <strong class="price">{{item?.currency}} {{item?.new_price}} </strong> <br>
                        <del class="price-old"> {{item?.currency}} {{item?.old_price}}</del>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Product Reviews Section -->
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col-6">
                    <h5 class="card-title">Reviews </h5>
                </div>
                <div class="col-6">
                    <button class="btn btn-outline-primary float-end">Write Review </button>
                </div>
            </div>
            <hr>
            <blockquote class="border-bottom">
                <div class="float-lg-end d-flex mb-3">
                    <div class="btn-group d-inline-flex me-2"> <button class="btn btn-light btn-sm float-end"
                            data-bs-toggle="tooltip" data-bs-title="Like"> <i class="fe fe-thumbs-up"></i> </button>
                        <button class="btn btn-light btn-sm float-end" data-bs-toggle="tooltip" data-bs-title="Dislike">
                            <i class="fe fe-thumbs-down"></i> </button> </div> <button
                        class="btn btn-light btn-sm float-end "> <i class="fa fa-ellipsis-v"></i> </button>
                </div>
                <div class="icontext"> 
                    <img src="assets/images/avatar1.jpg" class="img-xs icon rounded-circle">
                    <div class="text">
                        <h6 class="mb-0"> Michael Jonathan </h6>
                        <div class="rating-wrap">
                            <ul class="rating-stars">
                                <li style="width:80%" class="stars-active"> <img
                                        src="assets/images/misc/stars-active.svg" alt=""> </li>
                                <li> <img src="assets/images/misc/starts-disable.svg" alt=""> </li>
                            </ul> <b class="dot"></b> <small class="label-rating text-muted"> Purchased on Wed, May 12
                            </small>
                        </div>
                    </div>
                </div> 
                <div class="mt-3">
                    <p> It used to be great, finding almost every song, but now i dont know what happened (they might be
                        hacked even) that it can not find any song and it just makes up a different song to thats all
                        and all the best Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                        ullamco laboris nisi </p>
                </div>
            </blockquote>
            <blockquote class="border-bottom">
                <div class="float-lg-end d-flex mb-3">
                    <div class="btn-group d-inline-flex me-2"> <button class="btn btn-light btn-sm float-end"
                            data-bs-toggle="tooltip" data-bs-title="Like"> <i class="fe fe-thumbs-up"></i> </button>
                        <button class="btn btn-light btn-sm float-end" data-bs-toggle="tooltip" data-bs-title="Dislike">
                            <i class="fe fe-thumbs-down"></i> </button> </div> <button
                        class="btn btn-light btn-sm float-end "> <i class="fa fa-ellipsis-v"></i> </button>
                </div>
                <div class="icontext"> 
                    <img src="assets/images/avatar1.jpg" class="img-xs icon rounded-circle">
                    <div class="text">
                        <h6 class="mb-0"> Michael Jonathan </h6>
                        <div class="rating-wrap">
                            <ul class="rating-stars">
                                <li style="width:80%" class="stars-active"> <img
                                        src="assets/images/misc/stars-active.svg" alt=""> </li>
                                <li> <img src="assets/images/misc/starts-disable.svg" alt=""> </li>
                            </ul> <b class="dot"></b> <small class="label-rating text-muted"> Purchased on Wed, May 12
                            </small>
                        </div>
                    </div>
                </div> 
                <div class="mt-3">
                    <p> It used to be great, finding almost every song, but now i dont know what happened (they might be
                        hacked even) that it can not find any song and it just makes up a different song to thats all
                        and all the best Just makes up a different song to thats all and all the best </p>
                </div>
            </blockquote>
        </div>
    </div>
</div>